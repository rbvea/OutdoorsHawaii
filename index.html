<!DOCTYPE html>
<html>
<head>
    <title>Outdoors Hawaii</title>
    
    <!-- CSS files -->
    <!--link rel="stylesheet" type="text/css" href="cartodb.css"-->
    <link rel="stylesheet" type="text/css" href="outdoorshawaii.css">

    <!-- JavaScript files -->
    <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.5/jquery.min.js"></script>
    <script type="text/javascript" src="https://raw.github.com/Vizzuality/cartodb-gmapsv3/gh-pages/cartodb-gmapsv3.js"></script>
    <script type="text/javascript" src="https://raw.github.com/Vizzuality/cartodb-gmapsv3/gh-pages/wax.g.js"></script>

    <!-- Local JavaScript files -->
    <script type="text/javascript" src="query.js"></script>
    <script type="text/javascript" src="action.js"></script>
    <script type="text/javascript" src="map.js"></script>
</head>

<body onload="initialize()">

<div id="wrapper">
    <header>
        <div id="page_title">Outdoors Hawaii</div>
        <div id="overlay">
            <input id="beaches" value="beaches" onclick="update()" checked="checked" type="checkbox">Beaches</input>
            <input id="trails" value="trails" onclick="update()" checked="checked" type="checkbox">Trails</input>
        </div>
        <ul id="islands">
            <li onclick="toggle(this)" id="all_island" class="before selected"><span class="tabs">All Islands</span></li>
            <li onclick="toggle(this)" id="kauai" class="before"><span class="tabs">Kauai</span></li>
            <li onclick="toggle(this)" id="oahu" class="before"><span class="tabs">Oahu</span></li>
            <li onclick="toggle(this)" id="molokai" class="before"><span class="tabs">Molokai</span></li>
            <li onclick="toggle(this)" id="lanai" class="before"><span class="tabs">Lanai</span></li>
            <li onclick="toggle(this)" id="maui" class="before"><span class="tabs">Maui</span></li>
            <li onclick="toggle(this)" id="hawaii" class="before"><span class="tabs">Big Island</span></li>
        </div>
    </header>
    <div id="map_canvas"></div>
    <div id="sidebar"></div>
    <script type="text/javascript">
      $.getJSON(
         "http://outdoorshawaii.cartodb.com/api/v1/sql?callback=?",
          { q: "SELECT * FROM beaches WHERE island='" + islands.join("' OR island ='") + "' UNION SELECT * FROM trails WHERE island='" + islands.join("' OR island ='") + "'"},
          function(data) {
             $.each(data.rows, function(i, val) {
                      $("#sidebar").append("<tr><td><div class='" + val.island + "'/><span class='beach_element'>" + val.description + "</span></div></td></tr>");
              });
          });
   </script>
    <footer>Powered by Google Maps, CartoDB, and caffeine . . .</footer>
</div>
</body>
