<!DOCTYPE html>
<html>
<head>
    <title>Outdoors Hawaii</title>
    <link rel="stylesheet" type="text/css" href="cartodb.css">
    <link rel="stylesheet" type="text/css" href="outdoorshawaii.css">

    <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.5/jquery.min.js"></script>
    <script type="text/javascript" src="https://raw.github.com/Vizzuality/cartodb-gmapsv3/gh-pages/cartodb-gmapsv3.js"></script>
    <script type="text/javascript" src="https://raw.github.com/Vizzuality/cartodb-gmapsv3/gh-pages/wax.g.js"></script>

    <script type="text/javascript" src="query.js"></script>
    <script type="text/javascript" src="action.js"></script>
    <script type="text/javascript" src="map.js"></script>
</head>

<body onload="initialize()">

<div id="wrapper">
    <header>
        <div id="page_title">Outdoors Hawaii</div>
        <div id="overlay">
            <input id="beaches" value="beaches" onclick="update()" checked="checked" type="checkbox">Beaches</input>
            <input id="trails" value="trails" onclick="update()" checked="checked" type="checkbox">Trails</input>
        </div>
        <ul id="islands">
            <li onclick="toggle(this)" value="all_island" class="before selected"><span class="tabs">All Islands</span></li>
            <li onclick="toggle(this)" value="kauai" class="before"><span class="tabs">Kauai</span></li>
            <li onclick="toggle(this)" value="oahu" class="before"><span class="tabs">Oahu</span></li>
            <li onclick="toggle(this)" value="molokai" class="before"><span class="tabs">Molokai</span></li>
            <li onclick="toggle(this)" value="lanai" class="before"><span class="tabs">Lanai</span></li>
            <li onclick="toggle(this)" value="maui" class="before"><span class="tabs">Maui</span></li>
            <li onclick="toggle(this)" value="hawaii" class="before"><span class="tabs">Big Island</span></li>
        </div>
    </header>
    <div id="map_canvas"></div>
    <div id="sidebar"></div>
    <table><script type="text/javascript">
      for(var i = 0; i < beaches.length; i++) {
	 $.getJSON(
	    "http://outdoorshawaii.cartodb.com/api/v1/sql?callback=?",
	     { q: "SELECT * FROM beaches WHERE island='" + isles[i] + "'"},
	     function(data) {
		$.each(data.rows, function(i, val) {
			 $("#sidebar").append("<tr><td><div class='" + isles[i] + "'/><span class='beach_element'>" + val.description + "</span></div></td></tr>");
		 });
	     });
     }

      for(var i = 0; i < trails.length; i++) {
	 $.getJSON(
	    "http://outdoorshawaii.cartodb.com/api/v1/sql?callback=?",
	     { q: "SELECT * FROM trails WHERE island='" + isles[i] + "'"},
	     function(data) {
		$.each(data.rows, function(i, val) {
			 $("#sidebar").append("<tr><td><div class='" + isles[i] + "'/><span class='trail_element'>" + val.description + "</span></div></td></tr>");
		 });
	     });
     }
   </script></table>
    <footer>Powered by Google Maps, CartoDB, and caffeine . . .</footer>
</div>
</body>
